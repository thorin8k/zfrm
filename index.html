<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
            #canvas {
                background-color: #eee;

                background-image: -webkit-linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, gray 75%, gray), -webkit-linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, gray 75%, gray);

                background-image: -moz-linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, gray 75%, gray), -moz-linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, gray 75%, gray);    
                background-image: linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, gray 75%, gray), 
                    linear-gradient(45deg, gray 25%, transparent 25%, transparent 75%, black 75%, gray);

                background-size:60px 60px;
                background-position:0 0, 30px 30px
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" width="640" height="480"></canvas>        
        <script type="text/javascript" src="./js/libs/jquery/jquery.js"></script>
        <script type="text/javascript" src="./js/libs/jquery/Class.js"></script>
        <script type="text/javascript" src="./js/libs/canvasText/canvasText.js"></script>
        <script type="text/javascript" src="./js/game/base/commons/Constants.js"></script>
        <script type="text/javascript" src="./js/game/base/commons/CollisionUtils.js"></script>
        <script type="text/javascript" src="./js/game/base/components/FrameIntervalImpl.js"></script>
        
        
        <script type="text/javascript" src="./js/game/base/Game.js"></script>
        <script type="text/javascript" src="./js/game/base/components/CanvasExt.js"></script>
        <script type="text/javascript" src="./js/game/base/components/ModuleTools.js"></script>
        <script type="text/javascript" src="./js/game/base/components/MessageContainer.js"></script>
        <script type="text/javascript" src="./js/game/base/components/ImageManager.js"></script>
        <script type="text/javascript" src="./js/game/base/interfaces/iModule.js"></script>
        
        
        
        <script type="text/javascript" src="./js/game/base/objects/Object.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/Clickable.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/CursorMovable.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/Image.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/ObjectLayer.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/LandscapeLayer.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/Movement.js"></script>
        <script type="text/javascript" src="./js/game/base/objects/Collision.js"></script>

        <script type="text/javascript" src="./js/game/ext/Rectangle.js"></script>
        <script type="text/javascript" src="./js/game/ext/Circle.js"></script>
        <script type="text/javascript" src="./js/game/ext/RectangleClick.js"></script>
        <script type="text/javascript" src="./js/game/ext/FirstPlayer.js"></script>
        <script type="text/javascript" src="./js/game/ext/Text.js"></script>
        <script type="text/javascript" src="./js/game/ext/CollisionBox.js"></script>
        
        <script type="text/javascript" src="./js/game/modules/fpsModule.js"></script>
        <script type="text/javascript" src="./js/game/modules/LayerHandler.js"></script>
        <script type="text/javascript" src="./js/game/modules/CollisionManager.js"></script>
        <script type="text/javascript" src="./js/game/modules/DebugModule.js"></script>

        <script type="text/javascript">
            var game;
            $(document).ready(function(){
                
                
                game = new Game("canvas");
                game.setSettings({fps:60});
                
                //añadimos modulos
               
                game.addModule("fpsMod", new FpsModule());
                game.addModule("LayerMod", new LayerHandler(tileMap));
                game.addModule("CollisionManager", new CollisionManager());
                game.addModule("DbgModule", new DebugModule());
                
                
                var text = new Text('Layers Listas!');
                text.z = 2;
                game.addObject("texto1", text);
                
                
                // Añadimos algunas imágenes a la lista de descarga
                game.imageManager.addImage('countrystyle.png','img/countrystyle.png');
                
                game.startGame();
                
            });
            //Event Handling
            window.addEventListener("keydown", function (eEvent) {
                game.executionKey(eEvent);
            }, false);
            window.addEventListener("keyup", function (eEvent) {
                game.executionKey(eEvent);
            }, false);
            window.addEventListener("click", function (eEvent) {
                game.executionKey(eEvent);
            }, false);
            
            
            
            var tileMap = { "height":15,
 "layers":[
        {
         "data":[353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353, 353],
         "height":15,
         "name":"capa1",
         "opacity":1,
         "properties":
            {
             "z":"0"
            },
         "type":"tilelayer",
         "visible":true,
         "width":20,
         "x":0,
         "y":0
        }, 
        {
         "height":15,
         "name":"objects",
         "objects":[  
                {
                 "height":40,
                 "name":"circ0",
                 "properties":
                    {
                     "color":"yellow",
                     "radius":20
                    },
                 "type":"Circle",
                 "width":40,
                 "x":201,
                 "y":99
                },
                {
                 "height":40,
                 "name":"circ1",
                 "properties":
                    {
                     "color":"yellow",
                    },
                 "type":"FirstPlayer",
                 "width":40,
                 "x":401,
                 "y":99
                }
                ],
         "opacity":1,
         "properties":
            {
             "z":"1"
            },
         "type":"objectgroup",
         "visible":true,
         "width":20,
         "x":0,
         "y":0
        }, 
        {
         "data":[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 261, 262, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 268, 269, 270, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 221, 0, 0, 0, 0, 0, 0, 276, 277, 278, 0, 0, 0, 0, 0, 0, 0, 0, 0, 228, 229, 230, 0, 0, 0, 0, 0, 284, 285, 286, 0, 0, 0, 0, 0, 0, 0, 0, 0, 236, 237, 238, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 244, 245, 246, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 253, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
         "height":15,
         "name":"capa3",
         "opacity":1,
         "properties":
            {
             "z":"3"
            },
         "type":"tilelayer",
         "visible":true,
         "width":20,
         "x":0,
         "y":0
        }, 
        {
         "height":15,
         "name":"collisions",
         "objects":[
                {
                 "height":32,
                 "name":"tree2",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":32,
                 "x":383,
                 "y":167
                }, 
                {
                 "height":32,
                 "name":"tree1",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":32,
                 "x":127,
                 "y":263
                }, 
                {
                 "height":478,
                 "name":"rightlimit",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":5,
                 "x":637,
                 "y":1
                }, 
                {
                 "height":2,
                 "name":"toplimit",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":620,
                 "x":13,
                 "y":-1
                }, 
                {
                 "height":3,
                 "name":"botlimit",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":622,
                 "x":10,
                 "y":474
                }, 
                {
                 "height":462,
                 "name":"leftlimit",
                 "properties":
                    {

                    },
                 "type":"CollisionBox",
                 "width":4,
                 "x":0,
                 "y":4
                }],
         "opacity":1,
         "type":"objectgroup",
         "visible":true,
         "width":20,
         "x":0,
         "y":0
        }],
 "orientation":"orthogonal",
 "properties":
    {

    },
 "tileheight":32,
 "tilesets":[
        {
         "firstgid":1,
         "image":"countrystyle.png",
         "imageheight":1458,
         "imagewidth":256,
         "margin":0,
         "name":"countrystyle",
         "properties":
            {

            },
         "spacing":0,
         "tileheight":32,
         "tilewidth":32
        }],
 "tilewidth":32,
 "version":1,
 "width":20
}
        </script>
    </body>
</html>
